!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.typestyle=t():e.typestyle=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";(function(e){function n(e){return e.replace(p,_).replace(g,"-ms-")}function r(e){for(var t=5381,n=e.length;n--;)t=33*t^e.charCodeAt(n);return(t>>>0).toString(36)}function i(e,t){return"number"!=typeof t||0===t||w.hasOwnProperty(e)?e+":"+t:e+":"+t+"px"}function o(e){return e.sort(function(e,t){return e[0]>t[0]?1:-1})}function s(e,r){for(var i=[],s=[],u=!1,c=0,l=Object.keys(e);c<l.length;c++){var h=l[c],f=e[h];null!==f&&void 0!==f&&(h===t.IS_UNIQUE?u=!0:"object"!=typeof f||Array.isArray(f)?i.push([n(h.trim()),f]):s.push([h.trim(),f]))}return{style:a(o(i)),nested:r?s:o(s),isUnique:u}}function a(e){return e.map(function(e){var t=e[0],n=e[1];return Array.isArray(n)?n.map(function(e){return i(t,e)}).join(";"):i(t,n)}).join(";")}function u(e,t){return-1===e.indexOf("&")?t+" "+e:e.replace(v,t)}function c(e,t,n,r,i){var o=s(t,""!==e),a=o.style,l=o.nested,h=o.isUnique,f=a;if(64===e.charCodeAt(0)){var d={selector:e,styles:[],rules:[],style:i?"":a};n.push(d),a&&i&&d.styles.push({selector:i,style:a,isUnique:h});for(var y=0,p=l;y<p.length;y++){var g=p[y],v=g[0],m=g[1];f+=v+c(v,m,d.rules,d.styles,i)}}else{var _=i?u(e,i):e;a&&r.push({selector:_,style:a,isUnique:h});for(var w=0,S=l;w<S.length;w++){var b=S[w],v=b[0],m=b[1];f+=v+c(v,m,n,r,_)}}return f}function l(e,t,n,r,i,o){for(var s=0,a=r;s<a.length;s++){var c=a[s],h=c.selector,f=c.style,d=c.isUnique,p=o?u(h,i):h,g=d?"u\0"+(++y).toString(36):"s\0"+t+"\0"+f,v=new C(f,g);v.add(new I(p,"k\0"+t+"\0"+p)),e.add(v)}for(var m=0,_=n;m<_.length;m++){var w=_[m],h=w.selector,f=w.style,S=w.rules,b=w.styles,v=new U(h,f,"r\0"+t+"\0"+h+"\0"+f);l(v,t,S,b,i,o),e.add(v)}}function h(e){for(var t="",n=0;n<e.length;n++)t+=e[n];return t}function f(t,n,i){return void 0===t&&(t=r),void 0===n&&(n=void 0!==e&&"production"!==e.env.NODE_ENV),void 0===i&&(i=k),new A(t,n,"f"+(++y).toString(36),i)}var d=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var y=0;t.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var p=/[A-Z]/g,g=/^ms-/,v=/&/g,m=/[ !#$%&()*+,.\/;<=>?@[\]^`{|}~"'\\]/g,_=function(e){return"-"+e.toLowerCase()},w={"animation-iteration-count":!0,"border-image-outset":!0,"border-image-slice":!0,"border-image-width":!0,"box-flex":!0,"box-flex-group":!0,"box-ordinal-group":!0,"column-count":!0,columns:!0,"counter-increment":!0,"counter-reset":!0,flex:!0,"flex-grow":!0,"flex-positive":!0,"flex-shrink":!0,"flex-negative":!0,"flex-order":!0,"font-weight":!0,"grid-area":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-span":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-span":!0,"grid-row-start":!0,"line-clamp":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"tab-size":!0,widows:!0,"z-index":!0,zoom:!0,"fill-opacity":!0,"flood-opacity":!0,"stop-opacity":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0},S=0,b=Object.keys(w);S<b.length;S++)for(var x=b[S],T=0,O=["-webkit-","-ms-","-moz-","-o-",""];T<O.length;T++){var j=O[T];w[j+x]=!0}t.escape=function(e){return e.replace(m,"\\$&")},t.hyphenate=n,t.stringHash=r;var k={add:function(){},change:function(){},remove:function(){}},R=function(){function e(e){void 0===e&&(e=k),this.changes=e,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}return e.prototype.add=function(t){var n=this._counters[t.id]||0,r=this._children[t.id]||t.clone();if(this._counters[t.id]=n+1,0===n)this._children[r.id]=r,this._keys.push(r.id),this.sheet.push(r.getStyles()),this.changeId++,this.changes.add(r,this._keys.length-1);else if(r instanceof e&&t instanceof e){var i=this._keys.indexOf(t.id),o=r.changeId;r.merge(t),r.changeId!==o&&(this.sheet.splice(i,1,r.getStyles()),this.changeId++,this.changes.change(r,i,i))}return r},e.prototype.remove=function(t){var n=this._counters[t.id];if(void 0!==n&&n>0){this._counters[t.id]=n-1;var r=this._children[t.id],i=this._keys.indexOf(r.id);if(1===n)delete this._counters[t.id],delete this._children[t.id],this._keys.splice(i,1),this.sheet.splice(i,1),this.changeId++,this.changes.remove(r,i);else if(r instanceof e&&t instanceof e){var o=r.changeId;r.unmerge(t),r.changeId!==o&&(this.sheet.splice(i,1,r.getStyles()),this.changeId++,this.changes.change(r,i,i))}}},e.prototype.values=function(){var e=this;return this._keys.map(function(t){return e._children[t]})},e.prototype.merge=function(e){for(var t=0,n=e.values();t<n.length;t++){var r=n[t];this.add(r)}return this},e.prototype.unmerge=function(e){for(var t=0,n=e.values();t<n.length;t++){var r=n[t];this.remove(r)}return this},e.prototype.clone=function(){return(new e).merge(this)},e}();t.Cache=R;var I=function(){function e(e,t){this.selector=e,this.id=t}return e.prototype.getStyles=function(){return this.selector},e.prototype.clone=function(){return new e(this.selector,this.id)},e}();t.Selector=I;var C=function(e){function t(t,n){var r=e.call(this)||this;return r.style=t,r.id=n,r}return d(t,e),t.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},t.prototype.clone=function(){return new t(this.style,this.id).merge(this)},t}(R);t.Style=C;var U=function(e){function t(t,n,r){var i=e.call(this)||this;return i.rule=t,i.style=n,i.id=r,i}return d(t,e),t.prototype.getStyles=function(){return this.rule+"{"+this.style+h(this.sheet)+"}"},t.prototype.clone=function(){return new t(this.rule,this.style,this.id).merge(this)},t}(R);t.Rule=U;var A=function(e){function n(t,n,r,i){var o=e.call(this,i)||this;return o.hash=t,o.debug=n,o.id=r,o}return d(n,e),n.prototype.registerStyle=function(e,n){var r=[],i=[],o=c("&",e,r,i),s="f"+this.hash(o),a=this.debug&&n?n+"_"+s:s;return l(this,o,r,i,"."+t.escape(a),!0),a},n.prototype.registerKeyframes=function(e,t){return this.registerHashRule("@keyframes",e,t)},n.prototype.registerHashRule=function(e,n,r){var i=[],o=[],s=c("",n,i,o),a="f"+this.hash(s),u=this.debug&&r?r+"_"+a:a,h=new U(e+" "+t.escape(u),"","h\0"+s+"\0"+e);return l(h,s,i,o,"",!1),this.add(h),u},n.prototype.registerRule=function(e,t){var n=[],r=[];l(this,c(e,t,n,r),n,r,"",!1)},n.prototype.registerCss=function(e){return this.registerRule("",e)},n.prototype.getStyles=function(){return h(this.sheet)},n.prototype.clone=function(){return new n(this.hash,this.debug,this.id,this.changes).merge(this)},n}(R);t.FreeStyle=A,t.create=f}).call(t,n(4))},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map(function(e){return e&&"object"==typeof e?Object.keys(e).map(function(t){return!!e[t]&&t}):[e]}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return!!e}).join(" ")}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r=0,o=e;r<o.length;r++){var s=o[r];if(null!=s&&!1!==s)for(var a in s){var u=s[a];(u||0===u)&&("$nest"===a&&u?n[a]=n.$nest?i(n.$nest,u):u:-1!==a.indexOf("&")||0===a.indexOf("@media")?n[a]=n[a]?i(n[a],u):u:n[a]=u)}}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.raf="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window),t.classes=r,t.extend=i,t.media=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=[];e.type&&r.push(e.type),e.orientation&&r.push("(orientation: "+e.orientation+")"),e.minWidth&&r.push("(min-width: "+o(e.minWidth)+")"),e.maxWidth&&r.push("(max-width: "+o(e.maxWidth)+")"),e.minHeight&&r.push("(min-height: "+o(e.minHeight)+")"),e.maxHeight&&r.push("(max-height: "+o(e.maxHeight)+")");var s="@media "+r.join(" and ");return{$nest:(a={},a[s]=i.apply(void 0,t),a)};var a};var o=function(e){return"string"==typeof e?e:e+"px"}},function(e,t,n){"use strict";function r(e){var t=new i.TypeStyle({autoGenerateTag:!1});return e&&t.setStylesTarget(e),t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3);t.TypeStyle=i.TypeStyle;var o=n(6);t.types=o;var s=n(1);t.extend=s.extend,t.classes=s.classes,t.media=s.media;var a=new i.TypeStyle({autoGenerateTag:!0});t.setStylesTarget=a.setStylesTarget,t.cssRaw=a.cssRaw,t.cssRule=a.cssRule,t.forceRenderStyles=a.forceRenderStyles,t.fontFace=a.fontFace,t.getStyles=a.getStyles,t.keyframes=a.keyframes,t.reinit=a.reinit,t.style=a.style,t.stylesheet=a.stylesheet,t.createTypeStyle=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(5),o=n(1),s=function(){return r.create(void 0,!0)},a=function(){function e(e){var t=e.autoGenerateTag,n=this;this.cssRaw=function(e){e&&(n._raw+=e||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var s=i.ensureStringObj(o.extend.apply(void 0,t)).result;n._freeStyle.registerRule(e,s),n._styleUpdated()},this.forceRenderStyles=function(){var e=n._getTag();e&&(e.textContent=n.getStyles())},this.fontFace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=n._freeStyle,i=0,o=e;i<o.length;i++){var s=o[i];r.registerRule("@font-face",s)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(e){var t=i.explodeKeyframes(e),r=t.keyframes,o=t.$debugName,s=n._freeStyle.registerKeyframes(r,o);return n._styleUpdated(),s},this.reinit=function(){var e=s();n._freeStyle=e,n._lastFreeStyleChangeId=e.changeId,n._raw="",n._pendingRawChange=!1;var t=n._getTag();t&&(t.textContent="")},this.setStylesTarget=function(e){n._tag&&(n._tag.textContent=""),n._tag=e,n.forceRenderStyles()},this.stylesheet=function(e){for(var t=Object.getOwnPropertyNames(e),r={},i=0,o=t;i<o.length;i++){var s=o[i],a=e[s];a&&(a.$debugName=s,r[s]=n.style(a))}return r};var r=s();this._autoGenerateTag=t,this._freeStyle=r,this._lastFreeStyleChangeId=r.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0,this.style=this.style.bind(this)}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var n=this._pending;o.raf(function(){n===t._pending&&e()})},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==n)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync(function(){return e.forceRenderStyles()}))},e.prototype.style=function(){var e=this._freeStyle,t=i.ensureStringObj(o.extend.apply(void 0,arguments)),n=t.result,r=t.debugName,s=r?e.registerStyle(n,r):e.registerStyle(n);return this._styleUpdated(),s},e}();t.TypeStyle=a},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function s(){p&&d&&(p=!1,d.length?y=d.concat(y):g=-1,y.length&&a())}function a(){if(!p){var e=i(s);p=!0;for(var t=y.length;t;){for(d=y,y=[];++g<t;)d&&d[g].run();g=-1,t=y.length}d=null,p=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,h,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(e){h=r}}();var d,y=[],p=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];y.push(new u(e,t)),1!==y.length||p||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){var t={},n="";for(var i in e){var s=e[i];if("$unique"===i)t[o.IS_UNIQUE]=s;else if("$nest"===i){var a=s;for(var u in a){var c=a[u];t[u]=r(c).result}}else"$debugName"===i?n=s:t[i]=s}return{result:t,debugName:n}}function i(e){var t={$debugName:void 0,keyframes:{}};for(var n in e){var r=e[n];"$debugName"===n?t.$debugName=r:t.keyframes[n]=r}return t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.ensureStringObj=r,t.explodeKeyframes=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}])});